## kube-prometheus-stack Helm values for Phase 3 deployment

prometheus:
  prometheusSpec:
    storageSpec:
      volumeClaimTemplate:
        spec:
          storageClassName: nfs-client
          accessModes:
            - ReadWriteOnce
          resources:
            requests:
              storage: 10Gi
    retention: 30d
    retentionSize: "9GB"

  ingress:
    enabled: true
    ingressClassName: nginx
    hosts:
      - prometheus.k8s.home
    paths:
      - /

grafana:
  adminPassword: admin
  persistence:
    enabled: true
    storageClassName: nfs-client
    accessModes:
      - ReadWriteOnce
    size: 5Gi

  # Disable init container for NFS compatibility
  initChownData:
    enabled: false

  ingress:
    enabled: true
    ingressClassName: nginx
    hosts:
      - grafana.k8s.home
    path: /

alertmanager:
  alertmanagerSpec:
    storage:
      volumeClaimTemplate:
        spec:
          storageClassName: nfs-client
          accessModes:
            - ReadWriteOnce
          resources:
            requests:
              storage: 5Gi

  ingress:
    enabled: true
    ingressClassName: nginx
    hosts:
      - alertmanager.k8s.home
    paths:
      - /

# Enable default Prometheus rules and ServiceMonitors
defaultRules:
  create: true
  rules:
    alertmanager: true
    etcd: true
    configReloaders: true
    general: true
    k8s: true
    kubeApiserverAvailability: true
    kubeApiserverBurnrate: true
    kubeApiserverHistogram: true
    kubeApiserverSlos: true
    kubeControllerManager: true
    kubelet: true
    kubeProxy: true
    kubePrometheusGeneral: true
    kubePrometheusNodeRecording: true
    kubernetesApps: true
    kubernetesResources: true
    kubernetesStorage: true
    kubernetesSystem: true
    kubeSchedulerAlerting: true
    kubeSchedulerRecording: true
    kubeStateMetrics: true
    network: true
    node: true
    nodeExporterAlerting: true
    nodeExporterRecording: true
    prometheus: true
    prometheusOperator: true

# ServiceMonitor configuration
prometheus-node-exporter:
  serviceMonitor:
    enabled: true

kube-state-metrics:
  serviceMonitor:
    enabled: true
